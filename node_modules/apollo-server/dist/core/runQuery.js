"use strict";
const graphql_1 = require('graphql');
function runQuery(schema, query, rootValue, context, variables, operationName) {
    let documentAST;
    if (typeof query === 'string') {
        try {
            documentAST = graphql_1.parse(query);
        }
        catch (syntaxError) {
            return Promise.resolve({ errors: [syntaxError] });
        }
        const validationErrors = graphql_1.validate(schema, documentAST, []);
        if (validationErrors.length) {
            return Promise.resolve({ errors: validationErrors });
        }
    }
    else {
        documentAST = query;
    }
    return graphql_1.execute(schema, documentAST, rootValue, context, variables, operationName);
}
exports.runQuery = runQuery;
//# sourceMappingURL=runQuery.js.map